import{aR as q,a1 as U,y as B,aS as j,I as p,U as W,aT as X,aU as J,aV as Q,aW as m,aX as x,aY as ee,aZ as re,g as se,a_ as te,a$ as ae,b0 as ie,O as $,b1 as fe,b2 as ue,Y as ce,b3 as le}from"./cGRVbZpf.js";import{b as oe,c as ne,d as _e,n as ve,e as de}from"./CpP0pgWv.js";import{t as he,c as be,s as ye}from"./D56RqqVC.js";function ge(e,s){var r=void 0,t;q(()=>{r!==(r=s())&&(t&&(U(t),t=null),r&&(t=B(()=>{j(()=>r(e))})))})}function O(e,s={},r,t){for(var a in r){var l=r[a];s[a]!==l&&(r[a]==null?e.style.removeProperty(a):e.style.setProperty(a,l,t))}}function pe(e,s,r,t){var a=e.__style;if(p||a!==s){var l=he(s,t);(!p||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=s}else t&&(Array.isArray(t)?(O(e,r?.[0],t[0]),O(e,r?.[1],t[1],"important")):O(e,r,t));return t}function k(e,s,r=!1){if(e.multiple){if(s==null)return;if(!W(s))return X();for(var t of e.options)t.selected=s.includes(H(t));return}for(t of e.options){var a=H(t);if(J(a,s)){t.selected=!0;return}}(!r||s!==void 0)&&(e.selectedIndex=-1)}function Ae(e){var s=new MutationObserver(()=>{k(e,e.__value)});s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{s.disconnect()})}function H(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),I=Symbol("style"),D=Symbol("is custom element"),K=Symbol("is html");function Te(e){if(p){var s=!1,r=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var t=e.value;E(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var a=e.checked;E(e,"checked",null),e.checked=a}}};e.__on_r=r,ce(r),le()}}function Le(e,s){s?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function E(e,s,r,t){var a=Z(e);if(p&&(a[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")){t||Ie(e,s,r??"");return}a[s]!==(a[s]=r)&&(s==="loading"&&(e[x]=r),r==null?e.removeAttribute(s):typeof r!="string"&&z(e).includes(s)?e[s]=r:e.setAttribute(s,r))}function Se(e,s,r,t,a=!1,l=!1){if(p&&a&&e.tagName==="INPUT"){var v=e,w=v.type==="checkbox"?"defaultChecked":"defaultValue";w in r||Te(v)}var b=Z(e),d=b[D],y=!b[K];let A=p&&d;A&&$(!1);var u=s||{},T=e.tagName==="OPTION";for(var h in s)h in r||(r[h]=null);r.class?r.class=be(r.class):r[S]&&(r.class=null),r[I]&&(r.style??=null);var N=z(e);for(const i in r){let f=r[i];if(T&&i==="value"&&f==null){e.value=e.__value="",u[i]=f;continue}if(i==="class"){var L=e.namespaceURI==="http://www.w3.org/1999/xhtml";ye(e,L,f,t,s?.[S],r[S]),u[i]=f,u[S]=r[S];continue}if(i==="style"){pe(e,f,s?.[I],r[I]),u[i]=f,u[I]=r[I];continue}var n=u[i];if(!(f===n&&!(f===void 0&&e.hasAttribute(i)))){u[i]=f;var R=i[0]+i[1];if(R!=="$$")if(R==="on"){const _={},g="$$"+i;let c=i.slice(2);var M=de(c);if(oe(c)&&(c=c.slice(0,-7),_.capture=!0),!M&&n){if(f!=null)continue;e.removeEventListener(c,u[g],_),u[g]=null}if(f!=null)if(M)e[`__${c}`]=f,_e([c]);else{let F=function(G){u[i].call(this,G)};u[g]=ne(c,e,F,_)}else M&&(e[`__${c}`]=void 0)}else if(i==="style")E(e,i,f);else if(i==="autofocus")fe(e,!!f);else if(!d&&(i==="__value"||i==="value"&&f!=null))e.value=e.__value=f;else if(i==="selected"&&T)Le(e,f);else{var o=i;y||(o=ve(o));var P=o==="defaultValue"||o==="defaultChecked";if(f==null&&!d&&!P)if(b[i]=null,o==="value"||o==="checked"){let _=e;const g=s===void 0;if(o==="value"){let c=_.defaultValue;_.removeAttribute(o),_.defaultValue=c,_.value=_.__value=g?c:null}else{let c=_.defaultChecked;_.removeAttribute(o),_.defaultChecked=c,_.checked=g?c:!1}}else e.removeAttribute(i);else P||N.includes(o)&&(d||typeof f!="string")?(e[o]=f,o in b&&(b[o]=ue)):typeof f!="function"&&E(e,o,f,l)}}}return A&&$(!0),u}function Oe(e,s,r=[],t=[],a=[],l,v=!1,w=!1){m(a,r,t,b=>{var d=void 0,y={},A=e.nodeName==="SELECT",u=!1;if(q(()=>{var h=s(...b.map(se)),N=Se(e,d,h,l,v,w);u&&A&&"value"in h&&k(e,h.value);for(let n of Object.getOwnPropertySymbols(y))h[n]||U(y[n]);for(let n of Object.getOwnPropertySymbols(h)){var L=h[n];n.description===te&&(!d||L!==d[n])&&(y[n]&&U(y[n]),y[n]=B(()=>ge(e,()=>L))),N[n]=L}d=N}),A){var T=e;j(()=>{k(T,d.value,!0),Ae(T)})}u=!0})}function Z(e){return e.__attributes??={[D]:e.nodeName.includes("-"),[K]:e.namespaceURI===ee}}var V=new Map;function z(e){var s=e.getAttribute("is")||e.nodeName,r=V.get(s);if(r)return r;V.set(s,r=[]);for(var t,a=e,l=Element.prototype;l!==a;){t=ae(a);for(var v in t)t[v].set&&r.push(v);a=re(a)}return r}function Ie(e,s,r){s==="srcset"&&Ne(e,r)||C(e.getAttribute(s)??"",r)||ie(s,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r))}function C(e,s){return e===s?!0:new URL(e,document.baseURI).href===new URL(s,document.baseURI).href}function Y(e){return e.split(",").map(s=>s.trim().split(" ").filter(Boolean))}function Ne(e,s){var r=Y(e.srcset),t=Y(s);return t.length===r.length&&t.every(([a,l],v)=>l===r[v][1]&&(C(r[v][0],a)||C(a,r[v][0])))}export{Oe as a,pe as b,E as s};
