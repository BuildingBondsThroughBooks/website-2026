import{b8 as j,a1 as O,y as q,aU as B,I as p,U as J,b9 as Q,ba as W,bb as X,bc as m,bd as x,be as ee,bf as re,g as se,bg as te,bh as ie,bi as ae,O as H,bj as fe,bk as ue,Y as ce,bl as le}from"./unOu-iv6.js";import{b as oe,c as ne,d as _e,n as ve,e as de}from"./CXQ_mTwr.js";import{t as be,c as he,s as ye}from"./DDi9lKQM.js";function ge(e,s){var r=void 0,t;j(()=>{r!==(r=s())&&(t&&(O(t),t=null),r&&(t=q(()=>{B(()=>r(e))})))})}function k(e,s={},r,t){for(var i in r){var l=r[i];s[i]!==l&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,l,t))}}function pe(e,s,r,t){var i=e.__style;if(p||i!==s){var l=be(s,t);(!p||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=s}else t&&(Array.isArray(t)?(k(e,r?.[0],t[0]),k(e,r?.[1],t[1],"important")):k(e,r,t));return t}function U(e,s,r=!1){if(e.multiple){if(s==null)return;if(!J(s))return Q();for(var t of e.options)t.selected=s.includes($(t));return}for(t of e.options){var i=$(t);if(W(i,s)){t.selected=!0;return}}(!r||s!==void 0)&&(e.selectedIndex=-1)}function Ae(e){var s=new MutationObserver(()=>{U(e,e.__value)});s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),X(()=>{s.disconnect()})}function $(e){return"__value"in e?e.__value:e.value}const I=Symbol("class"),S=Symbol("style"),D=Symbol("is custom element"),K=Symbol("is html");function Te(e){if(p){var s=!1,r=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var t=e.value;E(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var i=e.checked;E(e,"checked",null),e.checked=i}}};e.__on_r=r,ce(r),le()}}function Le(e,s){s?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function E(e,s,r,t){var i=z(e);if(p&&(i[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")){t||Se(e,s,r??"");return}i[s]!==(i[s]=r)&&(s==="loading"&&(e[x]=r),r==null?e.removeAttribute(s):typeof r!="string"&&F(e).includes(s)?e[s]=r:e.setAttribute(s,r))}function Ie(e,s,r,t,i=!1,l=!1){if(p&&i&&e.tagName==="INPUT"){var v=e,w=v.type==="checkbox"?"defaultChecked":"defaultValue";w in r||Te(v)}var h=z(e),d=h[D],y=!h[K];let A=p&&d;A&&H(!1);var u=s||{},T=e.tagName==="OPTION";for(var b in s)b in r||(r[b]=null);r.class?r.class=he(r.class):r[I]&&(r.class=null),r[S]&&(r.style??=null);var N=F(e);for(const a in r){let f=r[a];if(T&&a==="value"&&f==null){e.value=e.__value="",u[a]=f;continue}if(a==="class"){var L=e.namespaceURI==="http://www.w3.org/1999/xhtml";ye(e,L,f,t,s?.[I],r[I]),u[a]=f,u[I]=r[I];continue}if(a==="style"){pe(e,f,s?.[S],r[S]),u[a]=f,u[S]=r[S];continue}var n=u[a];if(!(f===n&&!(f===void 0&&e.hasAttribute(a)))){u[a]=f;var P=a[0]+a[1];if(P!=="$$")if(P==="on"){const _={},g="$$"+a;let c=a.slice(2);var M=de(c);if(oe(c)&&(c=c.slice(0,-7),_.capture=!0),!M&&n){if(f!=null)continue;e.removeEventListener(c,u[g],_),u[g]=null}if(f!=null)if(M)e[`__${c}`]=f,_e([c]);else{let G=function(Z){u[a].call(this,Z)};u[g]=ne(c,e,G,_)}else M&&(e[`__${c}`]=void 0)}else if(a==="style")E(e,a,f);else if(a==="autofocus")fe(e,!!f);else if(!d&&(a==="__value"||a==="value"&&f!=null))e.value=e.__value=f;else if(a==="selected"&&T)Le(e,f);else{var o=a;y||(o=ve(o));var R=o==="defaultValue"||o==="defaultChecked";if(f==null&&!d&&!R)if(h[a]=null,o==="value"||o==="checked"){let _=e;const g=s===void 0;if(o==="value"){let c=_.defaultValue;_.removeAttribute(o),_.defaultValue=c,_.value=_.__value=g?c:null}else{let c=_.defaultChecked;_.removeAttribute(o),_.defaultChecked=c,_.checked=g?c:!1}}else e.removeAttribute(a);else R||N.includes(o)&&(d||typeof f!="string")?(e[o]=f,o in h&&(h[o]=ue)):typeof f!="function"&&E(e,o,f,l)}}}return A&&H(!0),u}function ke(e,s,r=[],t=[],i=[],l,v=!1,w=!1){m(i,r,t,h=>{var d=void 0,y={},A=e.nodeName==="SELECT",u=!1;if(j(()=>{var b=s(...h.map(se)),N=Ie(e,d,b,l,v,w);u&&A&&"value"in b&&U(e,b.value);for(let n of Object.getOwnPropertySymbols(y))b[n]||O(y[n]);for(let n of Object.getOwnPropertySymbols(b)){var L=b[n];n.description===te&&(!d||L!==d[n])&&(y[n]&&O(y[n]),y[n]=q(()=>ge(e,()=>L))),N[n]=L}d=N}),A){var T=e;B(()=>{U(T,d.value,!0),Ae(T)})}u=!0})}function z(e){return e.__attributes??={[D]:e.nodeName.includes("-"),[K]:e.namespaceURI===ee}}var V=new Map;function F(e){var s=e.getAttribute("is")||e.nodeName,r=V.get(s);if(r)return r;V.set(s,r=[]);for(var t,i=e,l=Element.prototype;l!==i;){t=ie(i);for(var v in t)t[v].set&&r.push(v);i=re(i)}return r}function Se(e,s,r){s==="srcset"&&Ne(e,r)||C(e.getAttribute(s)??"",r)||ae(s,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r))}function C(e,s){return e===s?!0:new URL(e,document.baseURI).href===new URL(s,document.baseURI).href}function Y(e){return e.split(",").map(s=>s.trim().split(" ").filter(Boolean))}function Ne(e,s){var r=Y(e.srcset),t=Y(s);return t.length===r.length&&t.every(([i,l],v)=>l===r[v][1]&&(C(r[v][0],i)||C(i,r[v][0])))}export{ke as a,pe as b,E as s};
