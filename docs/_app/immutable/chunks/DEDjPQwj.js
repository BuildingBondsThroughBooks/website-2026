import{x as E,V as K,a1 as S,W as $,q as R,y as x,I as y,P as C,ao as U,z,v as L,a9 as M,L as k,M as G,N as H,A as V,O as I,K as W,be as Z,bf as J,bg as Q,bh as T,bi as X,aS as ee,ai as te,j as N,Y as se,a4 as m,a7 as P,bj as re,bk as ne,o as ie,d as ae,g as w,bl as fe,b9 as ue,ae as oe,bm as ce,bn as le,bo as de,bp as _e,bq as he,br as pe,bs as ve,bt as be,a8 as B,bu as p}from"./cGRVbZpf.js";class Y{anchor;#t=new Map;#s=new Map;#e=new Map;#r=new Set;#n=!0;constructor(e,s=!0){this.anchor=e,this.#n=s}#i=()=>{var e=E;if(this.#t.has(e)){var s=this.#t.get(e),r=this.#s.get(s);if(r)K(r),this.#r.delete(s);else{var n=this.#e.get(s);n&&(this.#s.set(s,n.effect),this.#e.delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),r=n.effect)}for(const[i,f]of this.#t){if(this.#t.delete(i),i===e)break;const a=this.#e.get(f);a&&(S(a.effect),this.#e.delete(f))}for(const[i,f]of this.#s){if(i===s||this.#r.has(i))continue;const a=()=>{if(Array.from(this.#t.values()).includes(i)){var c=document.createDocumentFragment();U(f,c),c.append(R()),this.#e.set(i,{effect:f,fragment:c})}else S(f);this.#r.delete(i),this.#s.delete(i)};this.#n||!r?(this.#r.add(i),$(f,a,!1)):a()}}};#a=e=>{this.#t.delete(e);const s=Array.from(this.#t.values());for(const[r,n]of this.#e)s.includes(r)||(S(n.effect),this.#e.delete(r))};ensure(e,s){var r=E,n=z();if(s&&!this.#s.has(e)&&!this.#e.has(e))if(n){var i=document.createDocumentFragment(),f=R();i.append(f),this.#e.set(e,{effect:x(()=>s(f)),fragment:i})}else this.#s.set(e,x(()=>s(this.anchor)));if(this.#t.set(r,e),n){for(const[a,u]of this.#s)a===e?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[a,u]of this.#e)a===e?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(this.#i),r.ondiscard(this.#a)}else y&&(this.anchor=C),this.#i()}}function me(t,e,s=!1){y&&W();var r=new Y(t),n=s?M:0;function i(f,a){if(y){const c=k(t)===G;if(f===c){var u=H();V(u),r.anchor=u,I(!1),r.ensure(f,a),I(!0);return}}r.ensure(f,a)}L(()=>{var f=!1;e((a,u=!0)=>{f=!0,i(u,a)}),f||i(!1,null)},n)}function Ae(t){const e=t();e&&!(typeof e=="string")&&J()}function ge(t){return t.toString=()=>(Z(),""),t}function Oe(t,e,...s){var r=new Y(t);L(()=>{const n=e()??null;n==null&&Q(),r.ensure(n,n&&(i=>n(i,...s)))},M)}function Ee(t,e){const s=(r,...n)=>{var i=X;T(t);try{return e(r,...n)}finally{T(i)}};return ge(s),s}function D(t,e){return t===e||t?.[m]===e}function Re(t={},e,s,r){return ee(()=>{var n,i;return te(()=>{n=i,i=[],N(()=>{t!==s(...i)&&(e(t,...i),n&&D(s(...n),t)&&e(null,...n))})}),()=>{se(()=>{i&&D(s(...i),t)&&e(null,...i)})}}),t}let b=!1;function Se(t){var e=b;try{return b=!1,[t(),b]}finally{b=e}}const we={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return ve(`${t.name}.${String(e)}`),!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function xe(t,e,s){return new Proxy({props:t,exclude:e,name:s,other:{},to_proxy:[]},we)}const ye={get(t,e){let s=t.props.length;for(;s--;){let r=t.props[s];if(p(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,s){let r=t.props.length;for(;r--;){let n=t.props[r];p(n)&&(n=n());const i=P(n,e);if(i&&i.set)return i.set(s),!0}return!1},getOwnPropertyDescriptor(t,e){let s=t.props.length;for(;s--;){let r=t.props[s];if(p(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const n=P(r,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(t,e){if(e===m||e===B)return!1;for(let s of t.props)if(p(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(t){const e=[];for(let s of t.props)if(p(s)&&(s=s()),!!s){for(const r in s)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(s))e.includes(r)||e.push(r)}return e}};function Ie(...t){return new Proxy({props:t},ye)}function Te(t,e,s,r){var n=!de||(s&_e)!==0,i=(s&le)!==0,f=(s&pe)!==0,a=r,u=!0,c=()=>(u&&(u=!1,a=f?N(r):r),a),_;if(i){var j=m in t||B in t;_=P(t,e)?.set??(j&&e in t?o=>t[e]=o:void 0)}var h,A=!1;i?[h,A]=Se(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=c(),_&&(n&&re(e),_(h)));var l;if(n?l=()=>{var o=t[e];return o===void 0?c():(u=!0,o)}:l=()=>{var o=t[e];return o!==void 0&&(a=void 0),o===void 0?a:o},n&&(s&ne)===0)return l;if(_){var q=t.$$legacy;return(function(o,v){return arguments.length>0?((!n||!v||q||A)&&_(v?l():o),o):l()})}var g=!1,d=((s&he)!==0?ie:ae)(()=>(g=!1,l()));d.label=e,i&&w(d);var F=oe;return(function(o,v){if(arguments.length>0){const O=v?w(d):n&&i?fe(o):o;return ue(d,O),g=!0,a!==void 0&&(a=O),o}return be&&g||(F.f&ce)!==0?d.v:w(d)})}export{Y as B,Ie as a,Re as b,Se as c,me as i,Te as p,xe as r,Oe as s,Ae as v,Ee as w};
